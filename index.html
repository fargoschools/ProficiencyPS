<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scientific Writing Data</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: Arial, sans-serif;
        }
        #summaryChart {
            width: 80%;
            max-width: 800px;
        }
        table {
            width: 80%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        textarea {
            width: 100%;
            height: 50px;
        }
    </style>
</head>
<body>
    <h2 id="assessment-title">Scientific Writing (SEP6 & SEP7) - Game: Energy</h2>
    <button onclick="changeTitle()">Change Assessment Name</button>
    
    <div id="summaryChart"></div>
    
    <h3>PLC Reflection</h3>
    <table>
        <tr><td>Which specific students demonstrated above proficiency on this assessment?</td><td><textarea></textarea></td></tr>
        <tr><td>What patterns can we identify from the student errors/mistakes?</td><td><textarea></textarea></td></tr>
        <tr><td>Which success criteria did students struggle with the most?</td><td><textarea></textarea></td></tr>
        <tr><td>Which instructional practices proved most effective?</td><td><textarea></textarea></td></tr>
        <tr><td>How can we improve this assessment?</td><td><textarea></textarea></td></tr>
        <tr><td>What appropriate scaffolding and supports were provided for students with modifications and accommodations for this assessment?</td><td><textarea></textarea></td></tr>
        <tr><td>What interventions or supports are needed for students who have not met proficiency?</td><td><textarea></textarea></td></tr>
        <tr><td>How will we extend or enrich learning for students who have performed above proficiency?</td><td><textarea></textarea></td></tr>
        <tr><td>What specific calibration notes are important to document for future calibration on this assessment?</td><td><textarea></textarea></td></tr>
    </table>
    <button onclick="saveReflection()">Save Reflection</button>
    
    <script>
        const data = [
            ["4s", 0], ["3s", 0], ["2s", 0], ["1s", 0], ["Ns", 0], ["Ms", 0]
        ];
        let totalStudents = 0;
        const rawData = [
            [0, 18, 17, 6, 1, 0, 42],
            [0, 17, 17, 4, 1, 0, 39],
            [0, 59, 13, 10, 4, 0, 86],
            [1, 20, 10, 2, 1, 0, 34],
            [2, 60, 12, 5, 0, 0, 79],
            [0, 15, 2, 5, 0, 0, 22],
            [0, 46, 23, 9, 1, 0, 79],
            [0, 18, 4, 1, 1, 0, 24],
            [0, 80, 12, 0, 0, 0, 92],
            [1, 22, 11, 1, 1, 0, 36],
            [0, 30, 10, 3, 1, 0, 44]
        ];
        rawData.forEach(row => {
            for (let i = 0; i < 6; i++) {
                data[i][1] += row[i];
            }
            totalStudents += row[6];
        });
        const percentages = data.map(d => (d[1] / totalStudents * 100).toFixed(2));
        Plotly.newPlot("summaryChart", [{
            x: ["4s", "3s", "2s", "1s", "Ns", "Ms"],
            y: percentages,
            type: "bar",
            marker: {color: "red"}
        }], {
            title: "Total Percentage Distribution of Scores",
            xaxis: { title: "Score Category" },
            yaxis: { title: "Percentage (%)" }
        });
        function changeTitle() {
            let newTitle = prompt("Enter new assessment name:", "Scientific Writing (SEP6 & SEP7) - Game: Energy");
            if (newTitle) {
                document.getElementById("assessment-title").innerText = newTitle;
            }
        }
        function saveReflection() {
            alert("Reflection saved!");
        }
    </script>
</body>
</html>
